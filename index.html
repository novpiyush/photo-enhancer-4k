<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>

body{
margin:0;
background:#000;
color:white;
text-align:center;
font-family:sans-serif;
}

img{
max-width:90%;
margin-top:20px;
border-radius:10px;
}

button{

margin:10px;
padding:12px 25px;
font-size:16px;
border:none;
border-radius:10px;
cursor:pointer;

}

</style>

</head>

<body>

<h2>Deep Black Enhancer</h2>

<input type="file" id="upload">

<br>

<img id="preview">

<br>

<button onclick="downloadDark()">
Download Deep Black HD
</button>


<script>

let imgObj;

upload.onchange=function(e){

let file=e.target.files[0];

let reader=new FileReader();

reader.onload=function(){

preview.src=reader.result;

imgObj=new Image();

imgObj.src=reader.result;

}

reader.readAsDataURL(file);

}



function downloadDark(){

let canvas=document.createElement("canvas");
let ctx=canvas.getContext("2d");


let w=imgObj.width*3;
let h=imgObj.height*3;

canvas.width=w;
canvas.height=h;


/* Draw Image */

ctx.drawImage(imgObj,0,0,w,h);


/* Deep Black Filter */

let imageData=ctx.getImageData(0,0,w,h);
let data=imageData.data;

for(let i=0;i<data.length;i+=4){

data[i]*=0.75;     // Red
data[i+1]*=0.75;   // Green
data[i+2]*=0.75;   // Blue

}

ctx.putImageData(imageData,0,0);


/* Download */

let link=document.createElement("a");

link.download="DeepBlack.png";

link.href=canvas.toDataURL("image/png");

link.click();

}

</script>

</body>
</html>
